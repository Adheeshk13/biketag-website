var v=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var d=(e,t,a)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))L.call(t,a)&&d(e,a,t[a]);if(p)for(var a of p(t))B.call(t,a)&&d(e,a,t[a]);return e},m=(e,t)=>k(e,C(t));import{d as I,A as T,m as P,a as i,B as $,o as s,c as w,C as r,w as y,f as c,b as o,D as U,F as S,p as V,g as j,h as D}from"./vendor.88f98271.js";import{B as H,L as N,_ as z}from"./SpinningBikeV1.84f9a062.js";import{_ as F}from"./index.f023f093.js";import"./PlayerBicon.7948e8a8.js";const G=I({name:"PlayView",components:{BikeTag:H,Loading:N},setup(){const{t:e}=T({useScope:"global"});return{t:e}},data(){var e,t;return{tagnumber:((t=(e=this.$route.params)==null?void 0:e.tagnumber)==null?void 0:t.length)?parseInt(this.$route.params.tagnumber):0,tagIsLoading:!0}},computed:m(u({},P(["getCurrentBikeTag","getCurrentHint","getTags","getPlayers"])),{tag(){var e;if(this.tagnumber!==0){const t=(e=this.getTags)==null?void 0:e.filter(a=>a.tagnumber===this.tagnumber);return t&&t.length?t[0]:{}}},getHint(){var e;return(e=this.getCurrentBikeTag.hint)!=null?e:this.t("pages.play.nohint")}}),created(){this.tagIsLoading=!0},async mounted(){await this.$store.dispatch("setGame"),await this.$store.dispatch("setTags"),await this.$store.dispatch("setPlayers"),await this.$store.dispatch("setCurrentBikeTag"),this.tagIsLoading=!1},methods:{hint(){alert(this.getCurrentBikeTag.hint)},tagLoaded(){this.tagIsLoading=!1},getPlayer(e){var a,n;return((n=(a=this.getPlayers)==null?void 0:a.filter(g=>decodeURIComponent(encodeURIComponent(g.name))==e))!=null?n:[])[0]}}}),R=e=>(V("data-v-4e27eab4"),e=e(),j(),e),A=R(()=>o("img",{class:"spinner",src:z},null,-1)),E={class:"container rel col-lg-6"},q=D(" ? ");function J(e,t,a,n,g,K){const h=i("loading"),_=i("b-button"),l=i("bike-tag"),b=$("b-popover");return s(),w(S,null,[e.tagIsLoading?(s(),r(h,{key:0,active:e.tagIsLoading,"onUpdate:active":t[0]||(t[0]=f=>e.tagIsLoading=f),"is-full-page":!0},{default:y(()=>[A]),_:1},8,["active"])):c("",!0),o("div",E,[o("div",null,[e.tagnumber===0&&!e.tagIsLoading?U((s(),r(_,{key:0,class:"btn-hint",title:e.t("pages.play.hint").toLocaleUpperCase(),variant:"primary"},{default:y(()=>[q]),_:1},8,["title"])),[[b,e.getHint,void 0,{click:!0,left:!0}]]):c("",!0),e.tagnumber===0?(s(),r(l,{key:1,tagnumber:e.getCurrentBikeTag.tagnumber,"mystery-image-url":e.getCurrentBikeTag.mysteryImageUrl,"mystery-player":e.getPlayer(e.getCurrentBikeTag.mysteryPlayer),player:e.getCurrentBikeTag.mysteryPlayer,size:"l","mystery-description":e.t("pages.play.mystery").toLocaleUpperCase()},null,8,["tagnumber","mystery-image-url","mystery-player","player","mystery-description"])):(s(),r(l,{key:2,tag:e.tag,size:"l",onLoad:e.tagLoaded},null,8,["tag","onLoad"]))])])],64)}var Y=F(G,[["render",J],["__scopeId","data-v-4e27eab4"]]);export{Y as default};
