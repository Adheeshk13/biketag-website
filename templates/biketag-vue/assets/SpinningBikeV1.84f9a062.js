import{d as M,a as h,o as p,c as I,f as te,D as $,E as B,e as g,b as d,G as oe,H as j,p as ae,g as ne,C as P,w as _,t as y,I as re,J as ie,K as se,L as le}from"./vendor.88f98271.js";import{_ as F}from"./index.f023f093.js";import{P as de}from"./PlayerBicon.7948e8a8.js";const ue=M({name:"ExpandableImage",props:{source:{type:String,default:null},fullSource:{type:String,default:null}},data(){return{expanded:!1,closeButtonRef:null,loading:!0}},watch:{expanded(e){this.$nextTick(()=>{e?(this.cloned=this.$el.cloneNode(!0),this.closeButtonRef=this.cloned.querySelector(".close-button"),this.closeButtonRef.addEventListener("click",this.closeImage),document.addEventListener("keydown",this.doCloseImage),document.addEventListener("backbutton",this.doCloseImage),document.body.appendChild(this.cloned),document.body.style.overflow="hidden",setTimeout(()=>{this.cloned.style.opacity=1},0)):(this.cloned.style.opacity=0,setTimeout(()=>{this.closeButtonRef.removeEventListener("click",this.closeImage),this.cloned.remove(),this.cloned=null,this.closeButtonRef=null,document.body.style.overflow="auto"},250))})}},methods:{expandClick(){this.expanded=!0},doCloseImage(e){e.key.toLowerCase()=="escape"&&this.closeImage(e)},closeImage(e){this.expanded=!1,document.removeEventListener("keydown",this.doCloseImage),document.removeEventListener("backbutton",this.doCloseImage),e.stopPropagation()},freezeVp(e){e.preventDefault()},loaded(){this.loading=!1}}}),ce=e=>(ae("data-v-cea2b06a"),e=e(),ne(),e),me={key:0,class:"close-button"},pe=ce(()=>d("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},[d("path",{fill:"#666666",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1)),ge=[pe],fe=["src"];function he(e,a,w,b,k,s){const u=h("b-spinner");return p(),I("div",{class:j(["expandable-image",{expanded:e.expanded}]),onClick:a[1]||(a[1]=(...t)=>e.expandClick&&e.expandClick(...t))},[e.expanded?(p(),I("i",me,ge)):te("",!0),$(g(u,null,null,512),[[B,e.loading]]),$(d("img",oe({src:e.expanded?e.fullSource:e.source,class:"img-fluid"},e.$attrs,{onLoad:a[0]||(a[0]=(...t)=>e.loaded&&e.loaded(...t))}),null,16,fe),[[B,!e.loading]])],2)}var ye=F(ue,[["render",he],["__scopeId","data-v-cea2b06a"]]);const be=M({name:"BikeTag",components:{ExpandableImage:ye,Player:de},props:{tag:{type:Object,default:()=>({})},size:{type:String,default:"m"},tagnumber:{type:Number,default:0},foundTagnumber:{type:Number,default:0},foundImageUrl:{type:String,default:null},mysteryImageUrl:{type:String,default:null},foundPlayer:{type:Object,default:null},mysteryPlayer:{type:Object,default:null},foundDescription:{type:String,default:null},mysteryDescription:{type:String,default:null},reverse:{type:Boolean,default:!1}},emits:["load"],data(){return{mysteryImageLoaded:!1,foundImageLoaded:!1,noLink:!1}},computed:{_tagnumber(){var e;return this.tagnumber?this.tagnumber:(e=this.tag)==null?void 0:e.tagnumber},_foundTagnumber(){var e;return this.foundTagnumber?this.foundTagnumber:(e=this.tag)==null?void 0:e.tagnumber},_foundImageUrl(){var e;return this.foundImageUrl?this.foundImageUrl:(e=this.tag)==null?void 0:e.foundImageUrl},_mysteryImageUrl(){var e;return this.mysteryImageUrl?this.mysteryImageUrl:(e=this.tag)==null?void 0:e.mysteryImageUrl},_foundPlayer(){var e,a;return(a=(e=this.tag)==null?void 0:e.foundPlayer)!=null?a:""},_mysteryPlayer(){var e,a;return(a=(e=this.tag)==null?void 0:e.mysteryPlayer)!=null?a:""},_foundDescription(){var e;return this.foundDescription?this.foundDescription:this.getFoundDescription((e=this.tag)!=null?e:{})},_mysteryDescription(){var e;return this.mysteryDescription?this.mysteryDescription:this.getMysteryDescription((e=this.tag)!=null?e:{})}},mounted(){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1",document.head.appendChild(e)},methods:{getFoundDescription:e=>{var a;return`#${e.tagnumber} (found at) ${(a=e.foundLocation)!=null?a:"unknown"}`},getMysteryDescription:e=>`#${e.tagnumber} (posted on) ${new Date(e.foundTime*1e3).toLocaleDateString()}`,getImgurImageSized(e=""){return e.replace(".jpg",`${this.size}.jpg`).replace(".gif",`${this.size}.gif`).replace(".png",`${this.size}.png`).replace(".mp4",`${this.size}.mp4`)},tagImageLoaded(e){e==="mystery"?this.mysteryImageLoaded=!0:e==="found"&&(this._foundImageLoaded=!0),this.mysteryImageLoaded&&(!!this._foundImageUrl||this.foundImageLoaded||!this._foundImageUrl)&&this.$emit("load")},goTagPage:function(){this.noLink||this.$router.push("/"+encodeURIComponent(this._tagnumber))}}}),ve={class:"img-wrapper"},_e={class:"tag-number"},we={key:1,class:"tag-player"},ke={class:"description"},Ie={class:"img-wrapper"},Ne={class:"tag-number"},Le={key:1,class:"tag-player"},Ce={class:"card-bottom"},Se={class:"description"};function $e(e,a,w,b,k,s){const u=h("player"),t=h("expandable-image"),r=h("b-card"),i=h("b-col"),N=h("b-row");return p(),P(N,{class:j(e.reverse?"reversed":"")},{default:_(()=>[g(i,{md:e._foundImageUrl?6:12,class:"mb-3"},{default:_(()=>[g(r,{class:"polaroid"},{default:_(()=>[d("div",ve,[d("span",_e,"#"+y(e._tagnumber),1),e.mysteryPlayer?(p(),P(u,{key:0,class:"tag-player",player:e.mysteryPlayer,size:"txt"},null,8,["player"])):(p(),I("span",we,y(e._mysteryPlayer),1)),g(t,{source:e.getImgurImageSized(e._mysteryImageUrl,e._foundImageUrl?"m":"l"),"full-source":e._mysteryImageUrl,alt:e._mysteryDescription,onLoad:a[0]||(a[0]=v=>e.tagImageLoaded("mystery"))},null,8,["source","full-source","alt"])]),d("div",{class:"card-bottom",onClick:a[1]||(a[1]=(...v)=>e.goTagPage&&e.goTagPage(...v))},[d("span",ke,y(e._mysteryDescription),1)])]),_:1})]),_:1},8,["md"]),$(g(i,{md:"6",class:"mb-3"},{default:_(()=>[g(r,{class:"polaroid"},{default:_(()=>[d("div",Ie,[d("span",Ne,"#"+y(e._foundTagnumber),1),e.foundPlayer?(p(),P(u,{key:0,class:"tag-player",player:e.foundPlayer,size:"txt"},null,8,["player"])):(p(),I("span",Le,y(e._foundPlayer),1)),g(t,{class:"image img-fluid",source:e.getImgurImageSized(e._foundImageUrl),"full-source":e._foundImageUrl,alt:e.foundDescription,onLoad:a[2]||(a[2]=v=>e.tagImageLoaded("found"))},null,8,["source","full-source","alt"])]),d("div",Ce,[d("span",Se,y(e._foundDescription),1)])]),_:1})]),_:1},512),[[B,e._foundImageUrl]])]),_:1},8,["class"])}var Te=F(be,[["render",$e],["__scopeId","data-v-3a0bf142"]]),z={exports:{}},Be=re(ie);(function(e,a){(function(w,b){e.exports=b(Be)})(se,function(w){return(()=>{var b={982:t=>{t.exports=w}},k={};function s(t){var r=k[t];if(r!==void 0)return r.exports;var i=k[t]={exports:{}};return b[t](i,i.exports,s),i.exports}s.d=(t,r)=>{for(var i in r)s.o(r,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},s.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),s.r=t=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var u={};return(()=>{s.r(u),s.d(u,{default:()=>Z,useLoading:()=>U});var t=s(982);const r=typeof window!="undefined"?window.HTMLElement:Object,i={class:"vld-icon"},N={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(o){if(!this.isActive||o.target===this.$refs.root||this.$refs.root.contains(o.target))return;let n=this.container?this.container:this.isFullPage?null:this.$refs.root.parentElement;(this.isFullPage||n&&n.contains(o.target))&&(o.preventDefault(),this.$refs.root.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},v=(0,t.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,t.createVNode)("g",{transform:"translate(1 1)","stroke-width":"2"},[(0,t.createVNode)("circle",{"stroke-opacity":".25",cx:"18",cy:"18",r:"18"}),(0,t.createVNode)("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[(0,t.createVNode)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.8s",repeatCount:"indefinite"})])])],-1),V=(0,t.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});V.render=function(o,n,l,c,m,f){return(0,t.openBlock)(),(0,t.createBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:o.width,height:o.height,stroke:o.color},[v],8,["width","height","stroke"])};const O=V,A=(0,t.createVNode)("circle",{cx:"15",cy:"15",r:"15"},[(0,t.createVNode)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),R=(0,t.createVNode)("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[(0,t.createVNode)("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),X=(0,t.createVNode)("circle",{cx:"105",cy:"15",r:"15"},[(0,t.createVNode)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),D=(0,t.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}});D.render=function(o,n,l,c,m,f){return(0,t.openBlock)(),(0,t.createBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:o.color,width:o.width,height:o.height},[A,R,X],8,["fill","width","height"])};const q=D,G=(0,t.createVNode)("rect",{x:"0",y:"13",width:"4",height:"5"},[(0,t.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})],-1),H=(0,t.createVNode)("rect",{x:"10",y:"13",width:"4",height:"5"},[(0,t.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})],-1),J=(0,t.createVNode)("rect",{x:"20",y:"13",width:"4",height:"5"},[(0,t.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,t.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"})],-1),T=(0,t.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}});T.render=function(o,n,l,c,m,f){return(0,t.openBlock)(),(0,t.createBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:o.height,width:o.width,fill:o.color},[G,H,J],8,["height","width","fill"])};const K={Spinner:O,Dots:q,Bars:T},x=(0,t.defineComponent)({name:"vue-loading",mixins:[N],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,r],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,blur:{type:String,default:"2px"},opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},emits:["hide","update:active"],data(){return{isActive:this.active}},components:K,mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){this.canCancel&&this.isActive&&(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const o=this.$refs.root.parentElement;var n,l;(0,t.render)(null,o),(n=o).remove!==void 0?n.remove():(l=n.parentNode)===null||l===void 0||l.removeChild(n)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vld-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vld-shown")},keyPress(o){o.keyCode===27&&this.cancel()}},watch:{active(o){this.isActive=o},isActive(o){o?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity,backdropFilter:`blur(${this.blur})`}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}});x.render=function(o,n,l,c,m,f){return(0,t.openBlock)(),(0,t.createBlock)(t.Transition,{ref:"root",name:o.transition},{default:(0,t.withCtx)(()=>[(0,t.withDirectives)((0,t.createVNode)("div",{tabindex:"0",class:["vld-overlay is-active",{"is-full-page":o.isFullPage}],"aria-busy":o.isActive,"aria-label":"Loading",style:{zIndex:o.zIndex}},[(0,t.createVNode)("div",{class:"vld-background",onClick:n[1]||(n[1]=(0,t.withModifiers)((...C)=>o.cancel&&o.cancel(...C),["prevent"])),style:o.bgStyle},null,4),(0,t.createVNode)("div",i,[(0,t.renderSlot)(o.$slots,"before"),(0,t.renderSlot)(o.$slots,"default",{},()=>[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(o.loader),{color:o.color,width:o.width,height:o.height},null,8,["color","width","height"]))]),(0,t.renderSlot)(o.$slots,"after")])],14,["aria-busy"]),[[t.vShow,o.isActive]])]),_:3},8,["name"])};const L=x;function U(o={},n={}){return{show(l=o,c=n){const m=Object.assign({},o,l,{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0});let f=m.container;m.container||(f=document.body,m.isFullPage=!0);const C=Object.assign({},n,c);return{hide:function(Q,W,Y,ee={}){const E=(0,t.h)(Q,W,ee),S=document.createElement("div");return S.classList.add("vld-container"),Y.appendChild(S),(0,t.render)(E,S),E.component}(L,m,f,C).ctx.hide}}}}L.install=(o,n={},l={})=>{const c=U(n,l);o.config.globalProperties.$loading=c,o.provide("$loading",c)};const Z=L})(),u=u.default})()})})(z);var xe=le(z.exports);var Ue="/assets/SpinningBikeV1.a17831d6.svg";export{Te as B,xe as L,Ue as _};
